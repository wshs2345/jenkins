# jenkins邮件报警 -- 多接受方设置 案例分析
## 目录
  1、问题分析
  2、对于jenkins的邮件通知设置
  3、分析项目构建流程
  4、jenkins项目构建 邮件发送多人 设置
  5、测试邮件发送多人

## 问题分析
项目的开发人员比较多，所以向同一个代码仓库中提交的时候，为了了解提交后的项目构建是否成功，需要提供邮件告警信息。为了能够提高构建的效率，所以邮件告警的通知人员尽量有针对性。

所以为了解决这个问题，需要研究一下邮件告警的通知设置，实现告警通知多人的效果。

## 对于jenkins的邮件通知设置
见 《jenkins 邮件告警  --- QQ企业邮箱设置》 一文，

经到google上搜索jenkins系统设置关于邮件的配置，没有找到邮件通知多人的设置，只有管理员和收发邮件的配置。

思路：我感觉项目的构建结果要通知给相关人员，应该在项目的设置里面去找。

## 分析项目构建流程 
项目的构建过程包括：
* 1、一般设置。
* 2、源码管理。
* 3、构建触发器。
* 4、构建环境。
* 5、构建。
* 6、构建后操作。
通过整体的分析，感觉邮件的通知应该在构建后操作部分设置，

## jenkins项目构建 邮件发送多人 设置

点击jenkins项目的构建后操作的 “增加构建后操作步骤”，点击“E-mail Notification”，在Recipients（收件人）出填写 构建失败的时候，邮件通知的接收人的邮箱，根据下面的提示信息，填写多个邮件列表，邮件账户间使用空格隔开。

![](http://i.imgur.com/sHR9qjH.png)

## 测试邮件发送多人
* 1、修改代码
![](http://i.imgur.com/GDokr56.png)
* 2、git提交代码
![](http://i.imgur.com/aq0eq6c.png)
* 3、查看构建效果
![](http://i.imgur.com/yBGUGL9.png)
* 4、查看终端报错日志
![](http://i.imgur.com/5PCJ4Tt.png)
* 5、查看报错信息
经过多次测试，等待时间在15-25秒之间
qq企业邮箱接收到的告警信息

![](http://i.imgur.com/XUej7rw.png)

126邮箱接收到的告警信息

![](http://i.imgur.com/2w0LaEk.png)
